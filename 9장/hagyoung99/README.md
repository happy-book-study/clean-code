# 9 단위 테스트

## TDD 법칙 세가지
- TDD: 실제 코드를 짜기 전 단위 테스트부터 작성하는 방식
- TDD의 법칙
    1. 실패하는 단위 테스트를 작성할 때까지 실제 코드를 작성하지 않는다.
    2. 컴파일은 실패하지 않으면서 실행이 실패하는 정도로만 단위 테스트를 작성한다.
    3. 현재 실패하는 테스트를 통과할 정도로만 실제 코드를 작성한다.
- 위의 과정을 반복하며 실제 코드를 작성한다.

## 깨끗한 테스트 코드 유지하기
- 지저분한 테스트 코드는 테스트를 안하는것보다 못하다.
- 테스트 코드가 복잡할수록 테스트 코드의 수정이 어려워지고, 수정이 어려워진 테스트 코드는 결국 사용하지 않게 된다.
- 테스트 코드는 실제 코드 못지 않게 중요하다.
### 테스트는 유연성, 유지보수성, 재사용성을 제공한다
- 동일한 작업 내에 코드의 변경이 일어났을 때 테스트 코드가 작성되어 있다면 해당 변경이 알맞게 변경되었는지 쉽게 알 수 있다.

## 깨끗한 테스트 코드
- 깨끗한 테스트 코드는 가독성이 매우 중요하다.
- 가독성을 높이기위해서는 명료성, 단순성, 풍부한 표현력이 필요하다.
- 테스트 코드는 최소의 표현으로 많은 것을 나타내야 한다.
- 테스트 코드는 세부분으로 나뉘어 작성된다.
    - 테스트 할 자료 생성
    - 생성한 테스트 자료 조작
    - 조작한 결과가 올바르게 나왔는지 확인
- 잡다한 코드를 없애고 필요한 자료 유형, 함수만 사용해 결과를 만든다.
- 따라서 코드가 수행하는 기능을 빠르게 이해할 수 있다.
### 도메인에 특화된 테스트 언어
- 시스템 조작 API를 사용하는 대신 API 위에 함수와 유틸리티 구현 후 그 함수와 유틸리티 사용으로 테스트 코드를 짜기 쉽고, 읽기 쉽게 만들 수 있다.
### 이중 표준
- 테스트 API 코드에 적용하는 표준은 실제 코드에 적용하는 표준과 다르다.
- 실제 환경에서는 하면 안되지만 테스트 환경에서 문제 없는 방식을 적용해서 보다 쉽게 작성해라.

## 테스트당 assert 하나
- assert 가 적은게 좋지만 꼭 하나일 필요는 없다. 필요에 따라 여러개를 사용해도 된다.
### 테스트당 개념 하나
- 하나의 테스트는 하나의 개념을 테스트 해야한다

## F.I.R.S.T
- 빠르게(Fast): 테스트는 빨라야한다.
- 독립젹으로(Independent): 각 테스트는 서로 의존하면 안된다.
- 반복가능하게(Repeatable): 어떤 환경에서도 반복 가능해야한다.
- 자기검증하는(Self-Validating): 테스트는 부울bool 값으로 결과를 내야한다.
- 적시에(Timely): 테스트는 적시에 작성해야한다.(저자는 실제 코드 구현전에 작성하라고 한다)

## 결론
- 테스트 코드는 실제 코드만큼이나 중요하다.
- 테스트 코드를 잘 관리하고 깨끗하게 유지하자.
